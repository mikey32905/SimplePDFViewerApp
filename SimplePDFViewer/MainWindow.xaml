<Window x:Class="SimplePDFViewer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:converter="clr-namespace:SimplePDFViewer.converters"
        xmlns:controls="clr-namespace:SimplePDFViewer.Views"
        xmlns:local="clr-namespace:SimplePDFViewer"
        mc:Ignorable="d"
        Title="Simple PDF Viewer" 
        Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Loaded="Window_Loaded"
        Closing="Window_Closing">

    <Window.Resources>
        <converter:BoolToVisibilityConverter x:Key="BoolToVisible" />
    </Window.Resources>

    <DockPanel>
        <!--ToolBar-->
        <ToolBar DockPanel.Dock="Top" Height="40">
            <Button x:Name="buttonOpen"  Padding="10,5"
                    Click="buttonOpen_Click">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="📁" FontSize="16" Margin="0,0,5,0"/>
                    <TextBlock Text="Open PDF" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>

            <Button x:Name="buttonPrevious"  Padding="10,5" 
                    IsEnabled="{Binding IsPreviousButtonEnabled}"
                    Click="buttonPrevious_Click">
                <TextBlock Text=" ► Previous"/>
            </Button>

            <TextBlock VerticalAlignment="Center" Margin="10,0">
                <Run Text="Page "/>
                <Run Name="txtCurrentPage" 
                     Text="{Binding CurrentPage}"/>
                <Run Text=" of "/>
                <Run Name="txtTotalPages"
                     Text="{Binding TotalPages}"/>
            </TextBlock>

            <Button x:Name="buttonNext" Padding="10,5" 
                    IsEnabled="{Binding IsNextButtonEnabled}"
                    Click="buttonNext_Click">
                <TextBlock Text="Next ◄"/>
            </Button>

            <Button x:Name="buttonZoomIn"  Padding="10,5" 
                    IsEnabled="{Binding IsZoomInEnabled}"
                    Click="buttonZoomIn_Click">
                <TextBlock Text="🔍+ Zoom In"/>
            </Button>

            <Button x:Name="buttonZoomOut"  Padding="10,5" 
                    IsEnabled="{Binding IsZoomOutEnabled}"
                    Click="buttonZoomOut_Click">
                <TextBlock Text="🔍- Zoom Out"/> 
            </Button>

            <Button x:Name="ButtonFitWidth"  Padding="10,5" 
                    IsEnabled="{Binding IsFitWidthEnabled}"
                    Click="ButtonFitWidth_Click">
                <TextBlock Text="Fit Width"/>
            </Button>
        </ToolBar>
        
        <!-- Status Bar -->
        <StatusBar DockPanel.Dock="Bottom" Height="25">
            <StatusBarItem>
                <TextBlock Name="txtStatus" Text="{Binding PdfDocumentStatus}"/>
            </StatusBarItem>
        </StatusBar>

        <!-- Main Context Area with Page Turn control -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- PDF Display with Border and Shadow Effect -->
            <Border Grid.Row="0"
                     BorderBrush="#D0D0D0" 
                    BorderThickness="1" 
                    Margin="10"
                    Background="White"
                    CornerRadius="4">
                <Border.Effect>
                    <DropShadowEffect Color="#888888" 
                                    BlurRadius="10" 
                                    ShadowDepth="2" 
                                    Opacity="0.3"/>
                </Border.Effect>

                <Grid>

                    <!-- Loading Indicator (shown when no PDF loaded) -->
                    <StackPanel VerticalAlignment="Center" 
                               HorizontalAlignment="Center"
                               Visibility="{Binding IsPDFLoaded, Converter={StaticResource BoolToVisible}}">
                        <TextBlock Text="📄" 
                                 FontSize="72" 
                                 HorizontalAlignment="Center"
                                 Opacity="0.3"
                                 Margin="0,0,0,20"/>
                        <TextBlock Text="No PDF loaded" 
                                 FontSize="18" 
                                 Foreground="#999999"
                                 HorizontalAlignment="Center"
                                 Margin="0,0,0,10"/>
                        <TextBlock Text="Click 'Open' or press Ctrl+O to open a PDF file" 
                                 FontSize="14" 
                                 Foreground="#AAAAAA"
                                 HorizontalAlignment="Center"/>
                    </StackPanel>

                    <ScrollViewer Name="scrollViewer"
                                HorizontalScrollBarVisibility="Auto" 
                                VerticalScrollBarVisibility="Auto"
                                Background="#F5F5F5"
                                Padding="20">
                        <controls:PageTurnControl x:Name="pageTurnControl" />       
                    </ScrollViewer>
                     
                </Grid>

            </Border>
        </Grid>
    </DockPanel>


</Window>
